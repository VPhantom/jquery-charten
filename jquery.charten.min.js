// Copyright 2013 St√©phane Lavergne <http://www.imars.com/> Free software under <http://www.gnu.org/licenses/lgpl-3.0.txt>
(function(t){"use strict";t.fn.charten=function(s){function f(){var s=t(this),f=s.find("li"),n=0,i=0;return s.css("list-style-type","none").css("margin",0).css("padding",0),s.contents().not(f).remove(),f.each(function(){n+=parseInt(t(this).text(),10)}),f.each(function(){var s=t(this);s.css("display","inline-block").css("list-style-type","none").css("margin",0).css("padding",0).css("width",0).css("color","transparent").css("border-left",Math.round(parseInt(s.text(),10)*c/n)+"px solid "+r[i]),i++}),this}function n(){var s=t(this),f=s.find("dt"),n=s.find("dd"),i=0;return f.css("float","left").css("white-space","nowrap").css("overflow","hidden"),n.each(function(){i=Math.max(i,t(this).text())}),n.each(function(){var s=t(this),f=s.text();s.css("border-left",Math.round(parseInt(f,10)*c/i)+"px solid "+o).text(a+f+b)}),this}function i(){return t(this).css(h,r[d])}var e=null,r=["#ffb8b8","#00ff80","#0040ff","#b8b8b8","#00b8b8","#8000ff","#808080","#ff0000","#b8ffb8","#b800b8","#00b8ff","#ff8080","#00ffb8","#b8b8ff","#b80080","#b8ff00","#ff8000","#8080ff","#b8b800","#8000b8","#0080ff","#00ff00","#ff0080","#ffb800","#00b800","#b80000","#b88080","#b800ff","#b88000","#00b880","#ff40d8"],c=250,o="#ff0000",a="",b="",h="",d=0;switch(s&&(s.mode&&(e=s.mode),s.rainbow&&(r=s.rainbow),s.color&&(o=s.color),s.width&&(c=s.width),s.prefix&&(a=s.prefix),s.suffix&&(b=s.suffix),s.prop&&(h=s.prop),s.i&&(d=s.i)),e){case"horizontal_pie":return this.each(f);case"horizontal_hist":return this.each(n);case"css":return this.each(i);default:}}})(jQuery);